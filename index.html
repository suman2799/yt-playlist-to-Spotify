<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Another Page</title>
</head>
<body>
    <h1>Another Page</h1>
    <script>
        // Function to get YouTube playlist name
        async function getPlaylistName(playlistId) {
            const apiKey = 'AIzaSyAmOeTSpgNxtwcWUbyYuVZfhmIrMDhmsiI';
            const apiUrl = `https://www.googleapis.com/youtube/v3/playlists?key=${apiKey}&id=${playlistId}&part=id,snippet&fields=items(id,snippet(title,channelId,channelTitle))`;
        
            try {
                const response = await fetch(apiUrl);
                const data = await response.json();
                
                return data.items[0].snippet.title;
            } catch (error) {
                console.error('Error:', error);
            }
        }
        
        
        async function main() {
            try {
                // Example usage:
                // playlist URL
                const playlistUrl = document.getElementById('playlistUrl').value;
            
                const accessToken = 'BQD5urC_wOfTpdxFZHFp42sHWVds0MJuJPrN1o3zWva70LmIKMtTH48H77O03RJL-07l3fexY6Lmbh_lSGYAOuuSvUW7fALqTInEgxeWv2etA4NvbcgFJSy6vw7Ymp-sTLLHdSzQvJZNN2LT6i7FB7hJgZ0f4sAJl64jrdNjPgKgCDwYD4O0jiyVgPN9nrfKdADkSI8xIPjHjG9LNY7ZB_IyoLm5hQA9zQ';
            
                // Playlist ID
                const plIds  = playlistUrl.match(/list=([a-zA-Z0-9_-]+)/);
                const playlistId = plIds[1];
                console.log('Playlist ID:', playlistId);
            
                const playlistName = await getPlaylistName(playlistId);
                console.log('Playlist Name:', playlistName);
            
                // convertYouTubePlaylistToSpotify(playlistId, playlistName);
            
            } catch (error) {
                console.error(error.message);
            }
        }//End of main()
        
        main(); // Call the main function to start execution
    </script>

    <label for="playlistUrl">Enter Playlist URL:</label>
    <input type="text" id="playlistUrl" name="playlistUrl">
    <button onclick="main()">Submit</button>

</body>
</html>
